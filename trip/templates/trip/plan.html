{% load static %}
{% include "trip/header.html" %}

<div class="container plan" style="height:auto; margin-bottom: 150px">

    <h2 style="text-align: center;">Your Itinerary in {{destination}}</h2>
    {% if flight %}
    <table>
      <tr>
        <th colspan="4"><h4 class="plan">Flights</h4></th>
      </tr>
      <tr>
        <th colspan="4"><h5>Departure</h5></th>
      </tr>
      {% if flight.depart %}
      {% for f in flight.depart%}
      <tr>
        <td>{{f.depart}} - {{f.arrive}}</td>
        <td>{{f.departs_at}} - {{f.arrives_at}}</td>
        <td>{{f.number}}</td>
        <td class='last'>{{f.cabin}}</td>
      </tr>
      {% endfor %}
      {% else %}
      <tr>
        <td colspan="4">Not Available</td>
      </tr>
      {% endif %}

      
      <tr>
        <th colspan="4"><h5>Return</h5></th>
      </tr>
      {% if flight.return %}
      {% for f in flight.return%}
      <tr>
        <td>{{f.depart}} - {{f.arrive}}</td>
        <td>{{f.departs_at}} - {{f.arrives_at}}</td>
        <td>{{f.number}}</td>
        <td class='last'>{{f.cabin}}</td>
      </tr>
      {% endfor %}
      {% else %}
      <tr>
        <td colspan="4">Not Available</td>
      </tr>
      {% endif %}
      <tr>
        <td><h5>Total Price: </h5></td>
        <td colspan="3">$ {{flight.fare.total}} + $ {{flight.fare.tax}} Tax</td>
      </tr>
    </table>
    {% endif %}

    {% for day in schedule %}
    <table>
        <!-- Day -->
        <tr>
            <th colspan="6"><h4 class="plan">Day {{forloop.counter}}</h4></th>
        </tr>
        <!-- Section for Attraction -->
        <tr>
            <td colspan="6"><h5>Attractions/Things To Do</h5></td>
        </tr>
        {% for attraction in day.attractions %}
        <!-- Attraction One -->
        <tr>       
            <td><h6>{{attraction.name}}</h6></td>
            <td colspan="1">Rating: {{attraction.rating}} (From {{attraction.number_of_reviews}} Reviews)</td>
            <td colspan="2" class='last'>{{attraction.hours}}</td>
        </tr>
        <tr>
            <td colspan="6">Address: {{attraction.address}}</td>
        </tr>
        <tr>
            <td colspan="6">Description: {{attraction.description}} </td>
        </tr>
        {% endfor %}

        <!-- Section for Hotel -->

        <tr>
            <td colspan="6"><h5>Hotels</h5></td>
        </tr>
        {% for hotel in day.hotel %}
        <tr>       
            <td><h6>{{hotel.name}}</h6></td>   <!-- (Add a link?) -->
            <td colspan="1">Rating: {{hotel.score}}/10 (From {{hotel.reviews}} Reviews)</td>
            <td colspan="2" class="last">{{hotel.price}}</td>
        </tr>
        <tr>
            <td colspan="6">Address:â€‚{{hotel.address}}</td>
        </tr>
        {% endfor %}

        <!-- Section for Restaurant -->
        <tr>
            <td colspan="6"><h5>Restaurants</h5></td>
        </tr>
        <!-- Restaurant One-->
        {% for restaurant in day.restaurant %}
        <tr>       
            <td><h6>{{restaurant.name}}</h6></td>   <!-- (Add a link?) -->
            <td colspan="1">{{restaurant.type}} </td>
            <td colspan="2" class="last">{{restaurant.price}}</td>
        </tr>
        <tr>
            <td>Address: {{restaurant.address}} </td>
            <td colspan="5" class="last">Score: {{restaurant.score}}/5 (From {{restaurant.reviews}} Reviews)</td>
        </tr>
        {% endfor %}
    </table>
{% endfor %}

<a class="btn btn-danger btn-lg print-button" href="{% url 'search' %}" role="button">Make Another Plan</a>
<a href="javascript:window.print()" role="button" class="btn btn-success btn-lg print-button">Get Printable Version</a>
</div>  



<!-- <script type="text/javascript" src="index.js"></script> -->

<!-- footer starts -->

{% include "trip/footer.html" %}